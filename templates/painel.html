<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel da Obra Usuario - BR Construtora</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Cabeçalho Atualizado -->
    <header class="header-painel">
        <div class="container">
            <a href="index.html" class="logo">
                <h1><i class="fas fa-home"></i> <span>BR</span>Construtora</h1>
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="acompanhe.html">Voltar</a></li>
                </ul>
            </nav>
            <button class="btn-logout" id="logout-btn">
                <i class="fas fa-sign-out-alt"></i> Sair
            </button>
        </div>
    </header>

    <!-- Conteúdo do Painel (Sem imagens) -->
    <section class="painel-obra">
        <div class="container">
            <h2>Painel da Obra: <span>Residencial Green Valley</span></h2>
            
            <!-- Seção Superior -->
            <div class="painel-top">
                <div class="info-obra-card">
                    <h3><i class="fas fa-user-hard-hat"></i> Responsável</h3>
                    <p>Eng. Carlos Silva</p>
                    <p><i class="fas fa-phone"></i> (11) 98765-4321</p>
                </div>
                
                <div class="info-obra-card">
                    <h3><i class="fas fa-calendar-check"></i> Cronômetro</h3>
                    <div class="cronometro" id="cronometro">
                        <span id="dias">45</span> dias de obra
                    </div>
                    <p>Início: 01/01/2023</p>
                </div>
                
                <div class="info-obra-card">
                    <h3><i class="fas fa-flag-checkered"></i> Prazo</h3>
                    <div class="prazo">
                        <p>Entrega prevista: <strong>30/06/2023</strong></p>
                        <div class="progresso">
                            <div class="barra" style="width: 60%;"></div>
                            <span>60% concluído</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gráficos -->
            <div class="painel-middle">
                <div class="grafico-card">
                    <h3><i class="fas fa-chart-pie"></i> Gastos da Obra</h3>
                    <canvas id="grafico-gastos"></canvas>
                </div>
                
                <div class="grafico-card">
                    <h3><i class="fas fa-boxes"></i> Materiais Comprados</h3>
                    <canvas id="grafico-materiais"></canvas>
                </div>
            </div>

            <!-- Projeto e Fotos (Sem imagens) -->
            <div class="painel-bottom">
                <div class="projeto-card">
                    <h3><i class="fas fa-blueprint"></i> Projeto Arquitetônico</h3>
                    <div class="placeholder-imagem"></div>
                </div>
                
                <div class="fotos-card">
                    <h3><i class="fas fa-camera"></i> Andamento da Obra</h3>
                    <div class="galeria">
                        <div class="placeholder-imagem"></div>
                        <div class="placeholder-imagem"></div>
                        <div class="placeholder-imagem"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Rodapé -->
    <footer>
        <div class="container">
            <p>&copy; 2023 Construtora Excelência. Todos os direitos reservados.</p>
            <div class="social">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // Cronômetro dinâmico
        function atualizarCronometro() {
            const dataInicio = new Date('2023-01-01');
            const hoje = new Date();
            const diff = Math.floor((hoje - dataInicio) / (1000 * 60 * 60 * 24));
            document.getElementById('dias').textContent = diff;
        }
        atualizarCronometro();

        // Gráficos (simulados)
        const ctxGastos = document.getElementById('grafico-gastos').getContext('2d');
        new Chart(ctxGastos, {
            type: 'doughnut',
            data: {
                labels: ['Mão de Obra', 'Materiais', 'Projetos', 'Imprevistos'],
                datasets: [{
                    data: [45, 30, 15, 10],
                    backgroundColor: ['#e67e22', '#2c3e50', '#16a085', '#e74c3c']
                }]
            }
        });

        const ctxMateriais = document.getElementById('grafico-materiais').getContext('2d');
        new Chart(ctxMateriais, {
            type: 'bar',
            data: {
                labels: ['Cimento', 'Tijolos', 'Ferro', 'Tinta', 'Azulejo'],
                datasets: [{
                    label: 'Quantidade Comprada',
                    data: [500, 8000, 200, 300, 400],
                    backgroundColor: '#e67e22'
                }]
            }
        });

        // Logout
        document.getElementById('logout-btn').addEventListener('click', function() {
            if(confirm('Deseja realmente sair?')) {
                window.location.href = 'acompanhe.html';
            }
        });
    </script>
</body>
</html>